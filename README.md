# AutoWire v2.0

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/python-3.7%2B-blue.svg)](https://www.python.org/)

AutoWire v2.0 æ˜¯ä¸€ä¸ªåŸºäº [PyVerilog](https://github.com/PyHDI/Pyverilog) çš„ Verilog SOC è‡ªåŠ¨è¿çº¿å·¥å…·ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨è§£æ Verilog æ¨¡å—ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶è¿›è¡Œåè®®ä¿¡å·æ‰¹é‡åŒ¹é…å’Œç«¯å£è¿çº¿ï¼Œæœ€ç»ˆç”Ÿæˆé¡¶å±‚é›†æˆæ¨¡å—ã€‚

## ç‰¹æ€§

- ğŸ”§ **è‡ªåŠ¨è¿çº¿**: åŒååŒ¹é…åŸåˆ™ï¼Œæ”¯æŒåŸºäºåè®®ä¿¡å·çš„è‡ªåŠ¨è¿çº¿ï¼ˆAHBã€AXIã€APBã€è‡ªå®šä¹‰ä¿¡å·ç»„ç­‰ï¼‰
- ğŸ“ **çµæ´»é…ç½®**: ä½¿ç”¨ YAML é…ç½®æ–‡ä»¶è¿›è¡Œæ¨¡å—å®šä¹‰å’Œè¿çº¿é…ç½®
- ğŸ¯ **ç²¾ç¡®è§£æ**: åŸºäº PyVerilog è¿›è¡Œå‡†ç¡®çš„ Verilog è¯­æ³•è§£æ
- ğŸ”„ **å¢é‡ç”Ÿæˆ**: æ”¯æŒä¸­é—´é…ç½®æ–‡ä»¶ç”Ÿæˆï¼Œä¾¿äºè°ƒè¯•å’ŒéªŒè¯
- ğŸ“Š **è¯¦ç»†æ—¥å¿—**: æä¾›å®Œæ•´çš„è§£æå’Œè¿çº¿è¿‡ç¨‹æ—¥å¿—
- ğŸ› ï¸ **é«˜çº§ç‰¹æ€§**: æ”¯æŒæ¨¡å—å‚æ•°åŒ–å®ä¾‹ã€æ¡ä»¶ç¼–è¯‘ç­‰

## å®‰è£…è¦æ±‚

- Python 3.7+
- PyVerilog
- PyYAML

```bash
pip install pyverilog pyyaml
```

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ç”¨æ³•

```bash
python autowire.py -i vcn.yaml -b bounding.yaml -o output/
```

### 2. é…ç½®æ–‡ä»¶ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ª YAML é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ `test.yaml`ï¼‰ï¼š

```yaml
top_module: soc_top

# Global Define files (optional)  
define_files: 
  - ./autowire/rtl/define.vh
#  - ./rtl/global_define.vh

# Module definitions
rtl_path:
  - ./autowire/rtl/irqqqq.sv
  - ./autowire/rtl/cpu_core.v
  - ./autowire/rtl/uart_controller.v

# inst declare
instances:
  - module: cpu_core
    name: u_cpu
    parameters:

  - module: irqqqq
    name: u_irqqqq

  - module: uart_controller
    name: u_uart
    parameters:
      BAUD_RATE: 9600
      DATA_BITS: 16

##sub_moduel con
connections:
  u_cpu.a_hready : hready_out
  u_cpu.irq      : "{6'b0,irq[0],uart_irq}"
  u_uart.hsel_ahb: 1'b1
  u_cpu.test_in  : irq[1:0]
  u_uart.test_out:

##signal group con
bounding_con:
  - ahb:
      u_cpu.a_*    : cpu_ahbm_*
      u_uart.*_ahb  :  cpu_ahbm_*
```

### 3. è¾“å‡ºæ–‡ä»¶

AutoWire ä¼šç”Ÿæˆæ ‡å‡†çš„ Verilog é¡¶å±‚æ¨¡å—æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

1. **æ¨¡å—å£°æ˜**: åŒ…å«æ‰€æœ‰å¤–éƒ¨ç«¯å£
2. **çº¿ç½‘å£°æ˜**: å†…éƒ¨è¿æ¥çº¿å£°æ˜
3. **å®ä¾‹åŒ–**: æ‰€æœ‰å­æ¨¡å—çš„å®ä¾‹åŒ–ä»£ç 
4. **æ³¨é‡Š**: è‡ªåŠ¨ç”Ÿæˆçš„æ—¶é—´æˆ³å’Œå·¥å…·ä¿¡æ¯

ç”Ÿæˆçš„ä»£ç ç¤ºä¾‹ï¼š

```verilog
// -----------------------------------------------------------------------------
// File      : soc_top.v
// Brief     : Auto-generated by autowire.py v2.0
// Author    : czz
// Date      : 2025-08-25 10:24:52
// -----------------------------------------------------------------------------

module soc_top(
    // u_cpu ports
    input          clk,
    input          rst_n,
    output  [2:0]  cpu_ahbm_hsize,
    output  [2:0]  cpu_ahbm_hburst,
    input          hready_out,
    input          debug_mode,

    // u_uart ports
    output         cpu_ahbm_hready_out,
    output         tx,
    input          rx
);

wire  [15:0]  cpu_ahbm_haddr ;
wire  [31:0]  cpu_ahbm_hrdata;
wire          cpu_ahbm_hresp ;
wire  [1:0]   cpu_ahbm_htrans;
wire  [31:0]  cpu_ahbm_hwdata;
wire          cpu_ahbm_hwrite;
wire  [7:0]   irq            ;
wire  [7:0]   uart_irq       ;

// Instance: u_cpu (cpu_core)
cpu_core u_cpu (
    .clk            (clk                   ),    // input 
    .rst_n          (rst_n                 ),    // input 
    .a_haddr        (cpu_ahbm_haddr        ),    // output [15:0]
    .a_hwdata       (cpu_ahbm_hwdata       ),    // output [31:0]
    .a_hrdata       (cpu_ahbm_hrdata       ),    // input  [31:0]
    .a_hwrite       (cpu_ahbm_hwrite       ),    // output
    .a_htrans       (cpu_ahbm_htrans       ),    // output [1:0]
    .a_hsize        (cpu_ahbm_hsize        ),    // output [2:0]
    .a_hburst       (cpu_ahbm_hburst       ),    // output [2:0]
    .a_hready       (hready_out            ),    // input 
    .a_hresp        (cpu_ahbm_hresp        ),    // input 
    .debug_mode     (debug_mode            ),    // input 
    .test_in        (irq[1:0]              ),    // input  [1:0]
    .irq            ({6'b0,irq[0],uart_irq})     // input  [7:0]
);

// Instance: u_irqqqq (irqqqq)
irqqqq u_irqqqq (
    .clk            (clk                   ),    // input 
    .rst_n          (rst_n                 ),    // input 
    .irq            (irq[1:0]              )     // output [1:0]
);

// Instance: u_uart (uart_controller)
uart_controller #(
    .BAUD_RATE(9600)
    .DATA_BITS(16)
) u_uart (
    .clk            (clk                   ),    // input 
    .rst_n          (rst_n                 ),    // input 
    .haddr_ahb      (cpu_ahbm_haddr        ),    // input  [15:0]
    .hwdata_ahb     (cpu_ahbm_hwdata       ),    // input  [31:0]
    .hrdata_ahb     (cpu_ahbm_hrdata       ),    // output [31:0]
    .hwrite_ahb     (cpu_ahbm_hwrite       ),    // input 
    .htrans_ahb     (cpu_ahbm_htrans       ),    // input  [1:0]
    .hsel_ahb       (1'b1                  ),    // input 
    .hready_out_ahb (cpu_ahbm_hready_out   ),    // output
    .hresp_ahb      (cpu_ahbm_hresp        ),    // output
    .tx             (tx                    ),    // output
    .rx             (rx                    ),    // input 
    .test_out       (                      ),    // output [15:0]
    .uart_irq       (uart_irq[0]           )     // output
);

endmodule
```

## å·¥ä½œåŸç†

AutoWire v2.0 é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š

### æ ¸å¿ƒæ¨¡å—

1. **Generator (`generator.py`)**: ä¸»æ§åˆ¶å™¨ï¼Œåè°ƒå„æ¨¡å—å·¥ä½œæµç¨‹
2. **Config Manager (`config_manager.py`)**: é…ç½®æ–‡ä»¶åŠ è½½å’Œç®¡ç†
3. **Parser (`parser.py`)**: åŸºäº PyVerilog çš„ Verilog ä»£ç è§£æ
4. **Connection Manager (`connection_manager.py`)**: è¿çº¿é€»è¾‘å¤„ç†
5. **Code Generator (`code_generator.py`)**: é¡¶å±‚æ¨¡å—ä»£ç ç”Ÿæˆ

### è¯¦ç»†å¤„ç†æµç¨‹å›¾

```mermaid
graph TD
    A[å¼€å§‹] --> B[è§£æå‘½ä»¤è¡Œå‚æ•°]
    B --> C[æ£€æŸ¥è¾“å…¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨]
    C -->|ä¸å­˜åœ¨| C1[æŠ¥é”™é€€å‡º]
    C -->|å­˜åœ¨| D[åˆ›å»ºAutoWireGeneratorå®ä¾‹]
    
    D --> E[åˆå§‹åŒ–é˜¶æ®µ]
    E --> E1[ç¡®å®šè¾“å‡ºç›®å½•]
    E --> E2[åˆå§‹åŒ–PyVerilogParser]
    E --> E3[è®¾ç½®è°ƒè¯•çº§åˆ«]
    
    E --> F[é…ç½®åŠ è½½é˜¶æ®µ]
    F --> F1[åŠ è½½ä¸»YAMLé…ç½®æ–‡ä»¶]
    F1 -->|å¤±è´¥| F1_ERR[é…ç½®åŠ è½½å¤±è´¥é€€å‡º]
    F1 -->|æˆåŠŸ| F2[åŠ è½½åè®®ä¿¡å·å®šä¹‰æ–‡ä»¶]
    F2 -->|æˆåŠŸ| F3[è·å–åè®®ä¿¡å·æ˜ å°„è¡¨]
    F2 -->|å¤±è´¥| F4[åè®®ä¿¡å·ä¸ºç©ºç»§ç»­å¤„ç†]
    
    F3 --> G[ç»„ä»¶åˆå§‹åŒ–é˜¶æ®µ]
    F4 --> G
    G --> G1[åˆå§‹åŒ–ConnectionManagerä¼ å…¥åè®®ä¿¡å·]
    G --> G2[åˆå§‹åŒ–CodeGeneratorä¼ å…¥é¡¶å±‚æ¨¡å—å]
    
    G --> H[è§£æé˜¶æ®µ]
    H --> H1[è§£æå®å®šä¹‰æ–‡ä»¶vhæ ¼å¼]
    H1 --> H2[å‘ç°RTLæ–‡ä»¶ä¸­çš„æ¨¡å—]
    H2 --> H3[åˆ›å»ºInstanceå¯¹è±¡åˆ—è¡¨]
    H3 --> H4{å¯¹æ¯ä¸ªInstance}
    H4 --> H5[ä½¿ç”¨PyVerilogè§£ææ¨¡å—æ–‡ä»¶]
    H5 --> H6[æå–ç«¯å£ä¿¡æ¯portså’Œparameters]
    H6 --> H7[æ›´æ–°Instanceçš„portså±æ€§]
    H7 --> H4
    H4 -->|æ‰€æœ‰å®Œæˆ| I[è¿çº¿é˜¶æ®µ]
    
    I --> I1[è®¾ç½®instancesåˆ°ConnectionManager]
    I1 --> I2[å¤„ç†åè®®è¿çº¿bounding_con]
    I2 --> I3{æ˜¯å¦æœ‰åè®®è¿çº¿}
    I3 -->|æœ‰| I4[é€šé…ç¬¦åŒ¹é…åè®®ä¿¡å·ç”Ÿæˆè¿çº¿æ˜ å°„]
    I4 --> I5[åˆ›å»ºä¸­é—´é…ç½®æ–‡ä»¶intermediate.yaml]
    I5 --> I6[é‡æ–°åŠ è½½é…ç½®åŒ…å«ç”Ÿæˆçš„è¿çº¿]
    I3 -->|æ— | I7[å¤„ç†æ‰‹åŠ¨è¿çº¿connections]
    I6 --> I7
    
    I7 --> I8[åˆ†ç±»è¿æ¥ç±»å‹]
    I8 --> I8A[å¸¸é‡è¿æ¥å¦‚1b1å’Œ8h00]
    I8 --> I8B[æ‚¬ç©ºè¿æ¥ç©ºå­—ç¬¦ä¸²]
    I8 --> I8C[æ‹¼æ¥è¿æ¥å¦‚sig1sig2]
    I8 --> I8D[ä½é€‰æ‹©è¿æ¥å¦‚sig70]
    I8 --> I8E[æ™®é€šä¿¡å·è¿æ¥]
    
    I8A --> I9[æ›´æ–°WireInfoä¿¡æ¯]
    I8B --> I9
    I8C --> I9
    I8D --> I9
    I8E --> I9
    
    I9 --> I10[è‡ªåŠ¨è¿çº¿é˜¶æ®µ]
    I10 --> I11{éå†æ‰€æœ‰æœªè¿æ¥ç«¯å£}
    I11 --> I12[åŒåä¿¡å·åŒ¹é…]
    I12 --> I13[æ£€æŸ¥ç«¯å£æ–¹å‘inputå’Œoutput]
    I13 --> I14[æ£€æŸ¥ä¿¡å·ä½å®½ä¸€è‡´æ€§]
    I14 --> I15[åˆ›å»ºæˆ–æ›´æ–°WireInfo]
    I15 --> I11
    I11 -->|å…¨éƒ¨å®Œæˆ| J[ä»£ç ç”Ÿæˆé˜¶æ®µ]
    
    J --> J1[è®¾ç½®instancesåˆ°CodeGenerator]
    J1 --> J2[è®¾ç½®wire_setåˆ°CodeGenerator]
    J2 --> J3[ç”Ÿæˆé¡¶å±‚æ¨¡å—ç«¯å£]
    J3 --> J3A[éå†æ‰€æœ‰å®ä¾‹ç«¯å£]
    J3A --> J3B{ç«¯å£æ˜¯å¦è¿æ¥åˆ°é¡¶å±‚}
    J3B -->|æ˜¯| J3C[æ·»åŠ åˆ°é¡¶å±‚ç«¯å£åˆ—è¡¨]
    J3B -->|å¦| J3A
    J3C --> J3A
    J3A -->|å®Œæˆ| J4[è§£æè¾“å‡ºè·¯å¾„]
    
    J4 --> J5[ç”ŸæˆVerilogä»£ç ]
    J5 --> J5A[ç”Ÿæˆæ–‡ä»¶å¤´æ³¨é‡ŠåŒ…å«æ—¶é—´æˆ³å’Œç‰ˆæœ¬ä¿¡æ¯]
    J5A --> J5B[ç”Ÿæˆæ¨¡å—å£°æ˜å’Œç«¯å£åˆ—è¡¨]
    J5B --> J5C[ç”Ÿæˆå†…éƒ¨ä¿¡å·wireå£°æ˜]
    J5C --> J5D[ç”Ÿæˆæ‰€æœ‰å­æ¨¡å—å®ä¾‹åŒ–]
    J5D --> J5E[å¤„ç†å‚æ•°åŒ–å®ä¾‹PARAM valueè®¾ç½®]
    J5E --> J5F[ç”Ÿæˆç«¯å£è¿æ¥port signalæ˜ å°„]
    J5F --> J5G[ç”Ÿæˆendmodule]
    
    J5G --> K[æ¸…ç†é˜¶æ®µ]
    K --> K1[æ¸…ç†PyVerilogç”Ÿæˆçš„PLYæ–‡ä»¶]
    K1 --> K2{è°ƒè¯•æ¨¡å¼}
    K2 -->|æ˜¯| K3[ä¿ç•™ä¸­é—´é…ç½®æ–‡ä»¶]
    K2 -->|å¦| K4[åˆ é™¤ä¸­é—´é…ç½®æ–‡ä»¶]
    
    K3 --> L[å®Œæˆ]
    K4 --> L
    
    style A fill:#e1f5fe
    style L fill:#c8e6c9
    style C1 fill:#ffcdd2
    style F1_ERR fill:#ffcdd2
    
    classDef processClass fill:#fff3e0
    classDef decisionClass fill:#f3e5f5
    classDef dataClass fill:#e8f5e8
    classDef errorClass fill:#ffcdd2
    
    class F,H,I,J processClass
    class C,I3,J3B,K2 decisionClass
    class E1,E2,F2,I5 dataClass
    class C1,F1_ERR errorClass
```

### æ ¸å¿ƒå¤„ç†é€»è¾‘è¯¦è§£

#### 1. **åè®®ä¿¡å·åŒ¹é…ç®—æ³•**
- æ”¯æŒé€šé…ç¬¦æ¨¡å¼åŒ¹é…ï¼ˆå¦‚ï¼š`u_cpu.a_*` åŒ¹é… `a_haddr`, `a_hwrite` ç­‰ï¼‰
- åŸºäºåè®®ä¿¡å·åˆ—è¡¨è¿›è¡Œç²¾ç¡®è¿‡æ»¤ï¼ˆAHBã€AXIã€APBç­‰ï¼‰
- è‡ªåŠ¨ç”Ÿæˆç›®æ ‡ä¿¡å·åç§°ï¼ˆå¦‚ï¼š`a_haddr` â†’ `cpu_ahbm_haddr`ï¼‰

#### 2. **è¿çº¿ä¼˜å…ˆçº§**
1. **åè®®è¿çº¿** (`bounding_con`) - æœ€é«˜ä¼˜å…ˆçº§ï¼Œè‡ªåŠ¨ç”Ÿæˆ
2. **æ‰‹åŠ¨è¿çº¿** (`connections`) - è¦†ç›–åè®®è¿çº¿
3. **è‡ªåŠ¨è¿çº¿** - åŒåä¿¡å·åŒ¹é…ï¼Œæœ€ä½ä¼˜å…ˆçº§

#### 3. **ä¿¡å·ç±»å‹å¤„ç†**
- **å¸¸é‡ä¿¡å·**: `1'b1`, `8'hFF` ç­‰
- **æ‹¼æ¥ä¿¡å·**: `{signal1, signal2, 6'b0}`
- **ä½é€‰æ‹©**: `signal[7:0]`, `bus[15:8]`
- **æ‚¬ç©ºä¿¡å·**: ç©ºè¿æ¥ï¼Œç”Ÿæˆæ‚¬ç©ºç«¯å£

#### 4. **é”™è¯¯æ£€æµ‹æœºåˆ¶**
- ç«¯å£ä½å®½ä¸åŒ¹é…æ£€æµ‹
- å¤šé©±åŠ¨ä¿¡å·æ£€æµ‹
- æ¨¡å—æ–‡ä»¶ä¸å­˜åœ¨æ£€æµ‹
- è¯­æ³•é”™è¯¯æ•è·å’ŒæŠ¥å‘Š

### å·¥ä½œæµç¨‹æ€»ç»“

1. **é…ç½®åŠ è½½**: è§£æ YAML é…ç½®æ–‡ä»¶å’Œåè®®ä¿¡å·å®šä¹‰
2. **æ¨¡å—è§£æ**: ä½¿ç”¨ PyVerilog è§£æ RTL æ–‡ä»¶ï¼Œæå–ç«¯å£å’Œå‚æ•°ä¿¡æ¯
3. **è¿çº¿å¤„ç†**: 
   - å¤„ç†åè®®ä¿¡å·è¿çº¿ï¼ˆåŸºäºé€šé…ç¬¦åŒ¹é…å’Œä¿¡å·åˆ—è¡¨è¿‡æ»¤ï¼‰
   - å¤„ç†æ‰‹åŠ¨è¿çº¿é…ç½®ï¼ˆæ”¯æŒå¤æ‚è¡¨è¾¾å¼ï¼‰
   - æ‰§è¡Œè‡ªåŠ¨è¿çº¿ï¼ˆåŒåä¿¡å·åŒ¹é…ï¼‰
4. **ä»£ç ç”Ÿæˆ**: ç”Ÿæˆé¡¶å±‚æ¨¡å— Verilog ä»£ç ï¼ŒåŒ…å«å®Œæ•´çš„æ¨¡å—å®ä¾‹åŒ–å’Œä¿¡å·è¿æ¥

## å‘½ä»¤è¡Œé€‰é¡¹

```
usage: autowire.py [-h] [-i INPUT] [-o OUTPUT] [-b BOUNDING] [-d] [--version]

AutoWire v2.0 - Verilog SOC Integration Tool (Refactored)

optional arguments:
  -h, --help            show this help message and exit
  -i INPUT, --input INPUT
                        Input YAML configuration file (default: vcn.yaml)
  -o OUTPUT, --output OUTPUT
                        Output directory or .v/.sv file path (default: .)
  -b BOUNDING, --bounding BOUNDING
                        Protocol signals definition file (default: bounding.yaml)
  -d, --debug           Enable debug output
  --version             show program version number and exit
```

## ä½¿ç”¨ç¤ºä¾‹

```bash
# æŒ‡å®šé…ç½®æ–‡ä»¶å’Œè¾“å‡ºç›®å½•
python autowire.py -i soc_config.yaml -b bounding.yaml -o build/

# æŒ‡å®šé…ç½®æ–‡ä»¶ã€boundingä¿¡å·ã€è¾“å‡ºç›®å½•
python autowire.py -i soc_config.yaml -b bounding.yaml -o build/

# æŒ‡å®šè¾“å‡ºæ–‡ä»¶
python autowire.py -i soc_config.yaml -b bounding.yaml -o build/soc_top.v

# å¼€å¯è°ƒè¯•æ¨¡å¼
python autowire.py -i soc_config.yaml -b bounding.yaml -o build/soc_top.v -d
```

## é…ç½®æ–‡ä»¶è¯¦ç»†è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶ç»“æ„ (YAML)

```yaml
# åŸºæœ¬é…ç½®
top_module: soc_top                    # ç”Ÿæˆçš„é¡¶å±‚æ¨¡å—å

# å®å®šä¹‰æ–‡ä»¶ (å¯é€‰)
define_files:                          # å…¨å±€å®å®šä¹‰æ–‡ä»¶åˆ—è¡¨
  - ./rtl/define.vh
  - ./rtl/global_define.vh

# RTLæºæ–‡ä»¶
rtl_path:                              # RTLæ–‡ä»¶è·¯å¾„åˆ—è¡¨
  - ./rtl/cpu_core.v
  - ./rtl/uart_controller.v
  - ./rtl/memory_controller.v

# æ¨¡å—å®ä¾‹å®šä¹‰
instances:
  - module: cpu_core                   # æ¨¡å—åï¼ˆå¿…é¡»ï¼‰
    name: u_cpu                        # å®ä¾‹åï¼ˆå¿…é¡»ï¼‰
    parameters:                        # å‚æ•°åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰
      CACHE_SIZE: 1024
      ADDR_WIDTH: 32
      
  - module: uart_controller
    name: u_uart
    parameters:
      BAUD_RATE: 115200
      DATA_BITS: 8

# æ‰‹åŠ¨è¿çº¿é…ç½®
connections:
  # æ ¼å¼ï¼šå®ä¾‹å.ç«¯å£å: è¿æ¥ç›®æ ‡
  u_cpu.clk: clk                       # æ™®é€šä¿¡å·è¿æ¥
  u_cpu.reset_n: rst_n                 # ä¿¡å·é‡å‘½åè¿æ¥
  u_cpu.interrupt: "{timer_irq, uart_irq, 6'b0}"  # ä¿¡å·æ‹¼æ¥
  u_uart.enable: 1'b1                  # å¸¸é‡è¿æ¥
  u_uart.test_mode: 2'b01              # å¤šä½å¸¸é‡
  u_debug.probe:                       # æ‚¬ç©ºè¿æ¥ï¼ˆç•™ç©ºï¼‰

# åè®®ä¿¡å·æ‰¹é‡è¿çº¿
bounding_con:
  - ahb:                               # AHBåè®®è¿çº¿
      u_cpu.ahb_*: cpu_ahbm_*          # é€šé…ç¬¦åŒ¹é…
      u_memory.*_ahb: cpu_ahbm_*       # åç¼€åŒ¹é…
      
  - axi:                               # AXIåè®®è¿çº¿  
      u_dma.axi_*: system_axi_*
      
  - apb:                               # APBåè®®è¿çº¿
      u_timer.*_apb: apb_*
```

### åè®®ä¿¡å·å®šä¹‰æ–‡ä»¶ (bounding.yaml)

```yaml
# åè®®ä¿¡å·å®šä¹‰ï¼Œç”¨äºé€šé…ç¬¦åŒ¹é…æ—¶çš„ä¿¡å·è¯†åˆ«
protocol_signals:
  ahb:                                 # AHBåè®®ä¿¡å·åˆ—è¡¨
    - haddr                            # åªæœ‰åŒ…å«è¿™äº›ä¿¡å·åçš„ç«¯å£
    - hwdata                           # æ‰ä¼šè¢«åè®®è¿çº¿åŒ¹é…
    - hrdata
    - hwrite
    - htrans
    - hsize
    - hburst
    - hready
    - hresp
    - hsel
    
  axi:                                 # AXIåè®®ä¿¡å·åˆ—è¡¨
    - awaddr
    - awvalid
    - awready
    - wdata
    - wvalid
    - wready
    - bresp
    - bvalid
    - bready
    # ... æ›´å¤šAXIä¿¡å·
    
  apb:                                 # APBåè®®ä¿¡å·åˆ—è¡¨
    - paddr
    - pwdata
    - prdata
    - pwrite
    - psel
    - penable
    - pready
```

### é…ç½®æ–‡ä»¶è§£æä¼˜å…ˆçº§

1. **åè®®è¿çº¿** (`bounding_con`) - è‡ªåŠ¨ç”Ÿæˆï¼Œæœ€ä½ä¼˜å…ˆçº§
2. **æ‰‹åŠ¨è¿çº¿** (`connections`) - æ‰‹åŠ¨é…ç½®ï¼Œä¼šè¦†ç›–åè®®è¿çº¿
3. **è‡ªåŠ¨è¿çº¿** - åŒåä¿¡å·åŒ¹é…ï¼Œå¡«è¡¥æœªè¿æ¥ç«¯å£

### è¿æ¥ç±»å‹æ”¯æŒ

| è¿æ¥ç±»å‹ | è¯­æ³•ç¤ºä¾‹ | è¯´æ˜ |
|---------|---------|------|
| æ™®é€šä¿¡å· | `signal_name` | ç›´æ¥ä¿¡å·è¿æ¥ |
| å¸¸é‡è¿æ¥ | `1'b1`, `8'hFF` | å¸¸é‡å€¼è¿æ¥ |
| ä¿¡å·æ‹¼æ¥ | `{sig1, sig2, 4'b0}` | å¤šä¿¡å·æ‹¼æ¥ |
| ä½é€‰æ‹© | `bus[7:0]`, `data[15]` | ä¿¡å·ä½é€‰æ‹© |
| æ‚¬ç©ºè¿æ¥ | (ç•™ç©º) | ç«¯å£æ‚¬ç©ºä¸è¿æ¥ |

## é«˜çº§åŠŸèƒ½

### é€šé…ç¬¦è¿çº¿

æ”¯æŒä½¿ç”¨é€šé…ç¬¦è¿›è¡Œæ‰¹é‡è¿çº¿ï¼š

```yaml
bounding_con:
  - ahb:
      u_master.ahb_*: master_ahb_*      # åŒ¹é…æ‰€æœ‰ ahb_ å¼€å¤´çš„ç«¯å£
      u_slave.*_ahb: slave_ahb_*        # åŒ¹é…æ‰€æœ‰ _ahb ç»“å°¾çš„ç«¯å£
```

### å‚æ•°åŒ–å®ä¾‹

æ”¯æŒä¸ºå®ä¾‹æŒ‡å®šå‚æ•°ï¼š

```yaml
instances:
  - module: memory_controller
    name: u_memory
    parameters:
      ADDR_WIDTH: 32
      DATA_WIDTH: 64
      CACHE_LINES: 256
```

### ä¿¡å·æ‹¼æ¥

æ”¯æŒå¤æ‚çš„ä¿¡å·è¿æ¥è¡¨è¾¾å¼ï¼š

```yaml
connections:
  u_cpu.interrupt: "{irq_timer, irq_uart, 6'b0}"
  u_mux.select: "2'b01"
  u_module.data_out:                    # æ‚¬ç©ºè¿æ¥
```

## æ•…éšœæ’é™¤å’Œæœ€ä½³å®è·µ

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. **æ¨¡å—è§£æå¤±è´¥**
```bash
# é”™è¯¯ç¤ºä¾‹
ERROR - Module cpu_core not found in RTL files
```
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ `rtl_path` ä¸­çš„æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ¨¡å—åä¸ Verilog æ–‡ä»¶ä¸­çš„ `module` å£°æ˜ä¸€è‡´
- ä½¿ç”¨ç»å¯¹è·¯å¾„é¿å…ç›¸å¯¹è·¯å¾„é—®é¢˜
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å¯è¯»

#### 2. **åè®®ä¿¡å·ä¸åŒ¹é…**
```bash
# é”™è¯¯ç¤ºä¾‹  
WARNING - No protocol signals matched for u_cpu.ahb_*
```
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ç«¯å£å‘½åæ˜¯å¦åŒ…å«åè®®ä¿¡å·åï¼ˆå¦‚ `haddr`, `hwrite` ç­‰ï¼‰
- éªŒè¯ `bounding.yaml` ä¸­çš„åè®®ä¿¡å·å®šä¹‰
- ä½¿ç”¨è°ƒè¯•æ¨¡å¼ `-d` æŸ¥çœ‹è¯¦ç»†åŒ¹é…è¿‡ç¨‹
- ç¡®è®¤é€šé…ç¬¦æ¨¡å¼æ­£ç¡®ï¼ˆå¦‚ `ahb_*` vs `*_ahb`ï¼‰

#### 3. **ä½å®½ä¸åŒ¹é…è­¦å‘Š**
```bash
# è­¦å‘Šç¤ºä¾‹
WARNING - Width mismatch for wire data_bus: input=32, output=16
```
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥è¿æ¥çš„ä¸¤ä¸ªç«¯å£ä½å®½æ˜¯å¦åŒ¹é…
- ä½¿ç”¨ä½é€‰æ‹©è¯­æ³•ï¼š`data_bus[15:0]` è¿æ¥åˆ°16ä½ç«¯å£
- ä½¿ç”¨æ‹¼æ¥è¯­æ³•ï¼š`{16'b0, narrow_signal}` æ‰©å±•ä½å®½
- ä¿®æ”¹æ¨¡å—å®šä¹‰ç¡®ä¿ä½å®½ä¸€è‡´

#### 4. **å¤šé©±åŠ¨ä¿¡å·é”™è¯¯**
```bash
# é”™è¯¯ç¤ºä¾‹
ERROR - Multiple outputs driving wire clock_signal
```
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªè¾“å‡ºç«¯å£è¿æ¥åˆ°åŒä¸€ä¿¡å·
- ä½¿ç”¨ä¸åŒçš„ä¿¡å·ååŒºåˆ†ä¸åŒæ¥æº
- æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦æœ‰é‡å¤è¿çº¿å®šä¹‰

### æœ€ä½³å®è·µå»ºè®®

#### 1. **æ–‡ä»¶ç»„ç»‡**
```
project/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ soc.yaml           # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ protocols.yaml     # åè®®å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ rtl/
â”‚   â”œâ”€â”€ cpu/               # æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»
â”‚   â”œâ”€â”€ memory/
â”‚   â””â”€â”€ peripherals/
â””â”€â”€ generated/
    â””â”€â”€ soc_top.v          # ç”Ÿæˆçš„é¡¶å±‚æ–‡ä»¶
```

#### 2. **å‘½åè§„èŒƒ**
```yaml
# æ¨èçš„ç«¯å£å‘½åè§„èŒƒ
instances:
  - name: u_cpu_core       # å®ä¾‹åæ·»åŠ  u_ å‰ç¼€
  - name: u_ahb_decoder    # åè®®ç›¸å…³æ¨¡å—åŒ…å«åè®®å
  - name: u_uart_0         # å¤šä¸ªåŒç±»æ¨¡å—æ·»åŠ åºå·
```

#### 3. **åè®®è¿çº¿æœ€ä½³å®è·µ**
```yaml
# æ¸…æ™°çš„åè®®è¿çº¿é…ç½®
bounding_con:
  - ahb:
      # ä¸»è®¾å¤‡è¿æ¥
      u_cpu.ahb_*: cpu_ahb_*
      u_dma.ahb_*: dma_ahb_*
      
      # ä»è®¾å¤‡è¿æ¥  
      u_memory.*_ahb: ahb_slave_*
      u_uart.*_ahb: ahb_slave_*
```

#### 4. **è°ƒè¯•æŠ€å·§**
```bash
# é€æ­¥è°ƒè¯•æµç¨‹
python autowire.py -i config.yaml -o test/ -d > debug.log 2>&1

# æ£€æŸ¥ä¸­é—´æ–‡ä»¶
ls test/*_intermediate.yaml

# éªŒè¯ç”Ÿæˆçš„ä»£ç 
iverilog -o sim test/soc_top.v rtl/*.v
```

#### 5. **æ€§èƒ½ä¼˜åŒ–**
- å°†å¸¸ç”¨çš„RTLæ–‡ä»¶æ”¾åœ¨SSDä¸ŠåŠ é€Ÿè§£æ
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„é¿å…é•¿è·¯å¾„å
- åˆç†ç»„ç»‡åè®®ä¿¡å·åˆ—è¡¨ï¼Œå¸¸ç”¨åè®®æ”¾åœ¨å‰é¢
- å¯¹å¤§å‹é¡¹ç›®è€ƒè™‘åˆ†æ¨¡å—é…ç½®ï¼Œå‡å°‘å•æ¬¡è§£ææ–‡ä»¶æ•°é‡

#### 6. **ç‰ˆæœ¬æ§åˆ¶å»ºè®®**
```gitignore
# .gitignore ç¤ºä¾‹
*_intermediate.yaml    # ä¸­é—´é…ç½®æ–‡ä»¶
*.pyc                  # Pythonç¼“å­˜æ–‡ä»¶  
parsetab.py           # PyVerilogè§£æç¼“å­˜
parser.out            # PLYç”Ÿæˆæ–‡ä»¶
generated/            # ç”Ÿæˆçš„æ–‡ä»¶ç›®å½•ï¼ˆå¯é€‰ï¼‰
```

#### 7. **é…ç½®æ–‡ä»¶ç»´æŠ¤**
```yaml
# ä½¿ç”¨æ³¨é‡Šç»„ç»‡é…ç½®æ–‡ä»¶
##############################################
# CPU å­ç³»ç»Ÿå®ä¾‹
##############################################
instances:
  - module: cpu_core
    name: u_cpu
    parameters:
      # ç¼“å­˜é…ç½®
      ICACHE_SIZE: 8192
      DCACHE_SIZE: 8192
      
##############################################  
# æ‰‹åŠ¨è¿çº¿ - ç³»ç»Ÿçº§ä¿¡å·
##############################################
connections:
  # æ—¶é’Ÿå’Œå¤ä½
  u_cpu.clk: sys_clk
  u_cpu.rst_n: sys_rst_n
  
  # ä¸­æ–­è¿æ¥
  u_cpu.irq: "{timer_irq, uart_irq, 30'b0}"
```

### é”™è¯¯æ¢å¤ç­–ç•¥

1. **å¤‡ä»½åŸå§‹é…ç½®**: ä¿®æ”¹é…ç½®å‰å…ˆå¤‡ä»½
2. **æ¸è¿›å¼è°ƒè¯•**: ä»ç®€å•é…ç½®å¼€å§‹ï¼Œé€æ­¥æ·»åŠ å¤æ‚è¿çº¿
3. **æ¨¡å—åŒ–éªŒè¯**: å•ç‹¬éªŒè¯æ¯ä¸ªå­ç³»ç»Ÿåå†æ•´åˆ
4. **æ—¥å¿—åˆ†æ**: åˆ©ç”¨è°ƒè¯•æ—¥å¿—å®šä½é—®é¢˜æ ¹æº
5. **ç‰ˆæœ¬å¯¹æ¯”**: ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶å·¥å…·å¯¹æ¯”é…ç½®å˜æ›´

### è°ƒè¯•æ¨¡å¼

ä½¿ç”¨ `-d` é€‰é¡¹å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹ï¼š

```bash
autowire.py -i ./vcn.yaml -b bounding.yaml -o ./out -d
```

è°ƒè¯•æ¨¡å¼ä¸‹ä¼šæ˜¾ç¤ºï¼š
- æ–‡ä»¶è§£æè¿‡ç¨‹
- ç«¯å£åŒ¹é…è¯¦æƒ…
- è¿çº¿ç”Ÿæˆä¿¡æ¯
- ä¸­é—´é…ç½®æ–‡ä»¶è·¯å¾„

#### DEBUGä¿¡æ¯ç¤ºä¾‹
```
python autowire.py -i ./vcn.yaml -b bounding.yaml -o ./out -d

2025-08-25 15:38:25 - INFO    - src.generator          - Starting SOC generation with new architecture...
2025-08-25 15:38:25 - INFO    - src.generator          - Loading configurations...
2025-08-25 15:38:25 - INFO    - src.config_manager     - Loaded configuration from ./vcn.yaml
2025-08-25 15:38:25 - INFO    - src.config_manager     - Loaded protocol signals from D:\work\autowire\bounding.yaml
2025-08-25 15:38:25 - INFO    - src.generator          - Parsing phase...
2025-08-25 15:38:25 - INFO    - src.parser             - Registered 1 define files
2025-08-25 15:38:25 - INFO    - src.generator          - Parsed 0 global defines
2025-08-25 15:38:25 - INFO    - src.generator          - Found 3 modules in RTL files
Generating LALR tables
WARNING: 183 shift/reduce conflicts
2025-08-25 15:38:26 - INFO    - src.parser             - Successfully parsed module cpu_core with 14 ports
Generating LALR tables
WARNING: 183 shift/reduce conflicts
2025-08-25 15:38:28 - INFO    - src.parser             - Successfully parsed module irqqqq with 3 ports
Generating LALR tables
WARNING: 183 shift/reduce conflicts
2025-08-25 15:38:29 - INFO    - src.parser             - Successfully parsed module uart_controller with 14 ports
2025-08-25 15:38:29 - INFO    - src.generator          - Connection phase...
2025-08-25 15:38:29 - INFO    - src.connection_manager - Processing protocol connections...
2025-08-25 15:38:29 - INFO    - src.connection_manager - Generated 17 protocol connections
2025-08-25 15:38:29 - INFO    - src.config_manager     - Created intermediate YAML file: D:\work\autowire\out\vcn_intermediate.yaml
2025-08-25 15:38:30 - INFO    - src.config_manager     - Loaded configuration from D:\work\autowire\out\vcn_intermediate.yaml
2025-08-25 15:38:30 - INFO    - src.connection_manager - Processing 20 manual connections
2025-08-25 15:38:30 - WARNING - src.connection_manager - Input width mismatch for irq: 8 vs 2
2025-08-25 15:38:30 - INFO    - src.connection_manager - Starting auto-connection of unconnected ports
2025-08-25 15:38:30 - INFO    - src.connection_manager - Auto-connection completed: 31/31 ports connected
2025-08-25 15:38:30 - INFO    - src.connection_manager - Total wires in wire_set: 17
2025-08-25 15:38:30 - INFO    - src.generator          - Code generation phase...
2025-08-25 15:38:30 - INFO    - src.code_generator     - Generating top-level ports in instance and port definition order
2025-08-25 15:38:30 - INFO    - src.code_generator     - Generated 9 top-level ports
2025-08-25 15:38:30 - INFO    - src.code_generator     - Generating top module to ./out\soc_top.v
2025-08-25 15:38:30 - WARNING - src.code_generator     - Width mismatch for wire irq: input=8, output=2, using max=8
2025-08-25 15:38:30 - WARNING - src.code_generator     - Width mismatch for wire uart_irq: input=8, output=1, using max=8
2025-08-25 15:38:30 - INFO    - src.code_generator     - Successfully generated ./out\soc_top.v
2025-08-25 15:38:30 - INFO    - src.generator          - Debug mode: keeping intermediate file D:\work\autowire\out\vcn_intermediate.yaml
2025-08-25 15:38:30 - INFO    - src.generator          - Generation completed successfully!
2025-08-25 15:38:30 - INFO    - __main__               - AutoWire v2.0 completed successfully!
```

## é¡¹ç›®æ¶æ„

### æ¨¡å—å…³ç³»æ¶æ„å›¾

```mermaid
graph TB
    subgraph "ä¸»ç¨‹åºå…¥å£"
        A[autowire.py<br/>å‘½ä»¤è¡Œå¤„ç†]
    end
    
    subgraph "æ ¸å¿ƒå¤„ç†å±‚"
        B[Generator<br/>ä¸»æ§åˆ¶å™¨]
    end
    
    subgraph "é…ç½®ç®¡ç†å±‚"
        C[ConfigManager<br/>é…ç½®æ–‡ä»¶ç®¡ç†]
        D[bounding.yaml<br/>åè®®ä¿¡å·å®šä¹‰]
        E[config.yaml<br/>é¡¹ç›®é…ç½®]
    end
    
    subgraph "è§£æå±‚"
        F[PyVerilogParser<br/>RTLæ–‡ä»¶è§£æ]
        G[RTL Files<br/>Verilogæºç ]
    end
    
    subgraph "æ•°æ®ç»“æ„å±‚"
        H[Instance<br/>æ¨¡å—å®ä¾‹]
        I[Port<br/>ç«¯å£ä¿¡æ¯]
        J[WireInfo<br/>ä¿¡å·ä¿¡æ¯]
    end
    
    subgraph "è¿çº¿ç®¡ç†å±‚"
        K[ConnectionManager<br/>è¿çº¿é€»è¾‘å¤„ç†]
    end
    
    subgraph "ä»£ç ç”Ÿæˆå±‚"
        L[CodeGenerator<br/>Verilogä»£ç ç”Ÿæˆ]
        M[Output File<br/>ç”Ÿæˆçš„é¡¶å±‚æ¨¡å—]
    end
    
    A --> B
    B --> C
    B --> F
    B --> K
    B --> L
    
    C --> D
    C --> E
    C --> |åŠ è½½é…ç½®| B
    
    F --> G
    F --> |è§£æç”Ÿæˆ| H
    H --> |åŒ…å«| I
    
    K --> |ç®¡ç†| J
    K --> |å¤„ç†| I
    
    L --> |ç”Ÿæˆ| M
    L --> |ä½¿ç”¨| H
    L --> |ä½¿ç”¨| J
    
    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style F fill:#e8f5e8
    style K fill:#fce4ec
    style L fill:#e0f2f1
```

### æ•°æ®æµå‘å›¾

```mermaid
flowchart LR
    subgraph "è¾“å…¥æ•°æ®"
        A1[YAMLé…ç½®æ–‡ä»¶]
        A2[bounding.yaml]
        A3[RTLæºæ–‡ä»¶]
        A4[å‘½ä»¤è¡Œå‚æ•°]
    end
    
    subgraph "å¤„ç†è¿‡ç¨‹"
        B1[é…ç½®è§£æ]
        B2[RTLè§£æ]
        B3[åè®®è¿çº¿]
        B4[æ‰‹åŠ¨è¿çº¿]
        B5[è‡ªåŠ¨è¿çº¿]
        B6[ä»£ç ç”Ÿæˆ]
    end
    
    subgraph "ä¸­é—´æ•°æ®"
        C1[å®ä¾‹åˆ—è¡¨]
        C2[ç«¯å£ä¿¡æ¯]
        C3[ä¿¡å·æ˜ å°„]
        C4[è¿çº¿å…³ç³»]
    end
    
    subgraph "è¾“å‡ºç»“æœ"
        D1[é¡¶å±‚Verilogæ–‡ä»¶]
        D2[ä¸­é—´é…ç½®æ–‡ä»¶]
        D3[è°ƒè¯•æ—¥å¿—]
    end
    
    A1 --> B1
    A2 --> B3
    A3 --> B2
    A4 --> B1
    
    B1 --> C1
    B2 --> C2
    B3 --> C3
    B4 --> C4
    B5 --> C4
    
    C1 --> B3
    C1 --> B4
    C1 --> B5
    C2 --> B3
    C2 --> B4
    C2 --> B5
    
    C1 --> B6
    C4 --> B6
    
    B6 --> D1
    B3 --> D2
    B1 --> D3
    B2 --> D3
    B3 --> D3
    B4 --> D3
    B5 --> D3
    B6 --> D3
    
    style A1 fill:#e1f5fe
    style A2 fill:#e1f5fe
    style A3 fill:#e1f5fe
    style A4 fill:#e1f5fe
    style D1 fill:#c8e6c9
    style D2 fill:#fff9c4
    style D3 fill:#f3e5f5
```

## é¡¹ç›®ç»“æ„

```
autowire-master/
â”œâ”€â”€ autowire.py              # ä¸»å…¥å£è„šæœ¬
â”œâ”€â”€ bounding.yaml           # åè®®ä¿¡å·å®šä¹‰
â”œâ”€â”€ test.yaml              # ç¤ºä¾‹é…ç½®æ–‡ä»¶
â”œâ”€â”€ vcn.yaml               # å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ LICENSE                # MIT è®¸å¯è¯
â”œâ”€â”€ src/                   # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ generator.py       # ä¸»ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ config_manager.py  # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ parser.py          # Verilogè§£æå™¨
â”‚   â”œâ”€â”€ connection_manager.py  # è¿çº¿ç®¡ç†
â”‚   â”œâ”€â”€ code_generator.py  # ä»£ç ç”Ÿæˆ
â”‚   â”œâ”€â”€ data_structures.py # æ•°æ®ç»“æ„å®šä¹‰
â”‚   â””â”€â”€ logger.py          # æ—¥å¿—ç®¡ç†
â”œâ”€â”€ rtl/                   # RTL æ–‡ä»¶ç›®å½•
â””â”€â”€ test_output_v2/        # è¾“å‡ºç¤ºä¾‹
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## æ›´æ–°æ—¥å¿—

### v2.0.0 (é‡æ„ç‰ˆæœ¬)
- å®Œå…¨é‡æ„ä»£ç æ¶æ„ï¼Œæé«˜å¯ç»´æŠ¤æ€§
- ä¼˜åŒ–åè®®ä¿¡å·åŒ¹é…ç®—æ³•
- å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º
- æ”¯æŒæ›´çµæ´»çš„é…ç½®é€‰é¡¹
- æ”¹è¿›ä»£ç ç”Ÿæˆè´¨é‡

---

## å¾…åŠ
- å°†[dma_controller](https://github.com/czz-zzc/dma_controller)ä½œä¸ºexampleå±•ç¤º
- æ”¯æŒparameterå»¶ç”³è‡³top
- æ”¯æŒäºŒç»´æ•°ç»„ç±»portè‡ªåŠ¨è¿çº¿

**æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰é—®é¢˜è¯·æäº¤ GitHub Issue
